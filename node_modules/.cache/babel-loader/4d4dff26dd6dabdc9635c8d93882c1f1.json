{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jack/CodeProjects/Escrow-Web/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jack/CodeProjects/Escrow-Web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jack/CodeProjects/Escrow-Web/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jack/CodeProjects/Escrow-Web/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jack/CodeProjects/Escrow-Web/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jack/CodeProjects/Escrow-Web/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Web3 from'web3';import'./App.css';import{DAI_ADDRESS,ERC20_ABI,ESCROWCONTRACT_ABI,ESCROWCONTRACT_ADDRESS}from'./config';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.state={account:''};_this.state={balance:''};_this.state={daibalance:''};_this.state={ProposalAddress:''};_this.state={ProposalAmount:''};_this.state={ProposalRequest:''};_this.state={FunderAmount:''};_this.state={FunderIdentifier:''};_this.state={ProposalBalance:''};_this.state={FunderVote:''};_this.state={ProposalDescription:''};_this.state={RoundDescription:''};_this.state={HashTest:''};_this.state={HashStatus:''};_this.state={RealProposalAmount:''};_this.state={ProposalAmountFunded:''};_this.state={ProposalRound:''};_this.state={ProposalVote:''};_this.state={ProposalFundsSpent:''};_this.state={RealProposalDescription:''};_this.state={RealRoundDescription:''};_this.state={jeff:''};return _this;}_createClass(App,[{key:\"componentWillMount\",value:function componentWillMount(){this.loadBlockchainData();}},{key:\"loadBlockchainData\",value:function(){var _loadBlockchainData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var web3,network,accounts,balance,daicontract,daibalance,contractbalance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:web3=new Web3(Web3.givenProvider||\"http://localhost:3000\");_context.next=3;return web3.eth.net.getNetworkType();case 3:network=_context.sent;console.log(\"network\",network);_context.next=7;return web3.eth.getAccounts();case 7:accounts=_context.sent;this.setState({account:accounts[0]});_context.next=11;return web3.eth.getBalance(accounts[0]);case 11:balance=_context.sent;balance=web3.utils.fromWei(balance,'ether');this.setState({balance:balance});daicontract=new web3.eth.Contract(ERC20_ABI,DAI_ADDRESS);_context.next=17;return daicontract.methods.balanceOf(accounts[0]).call();case 17:daibalance=_context.sent;_context.next=20;return daicontract.methods.balanceOf(ESCROWCONTRACT_ADDRESS).call();case 20:contractbalance=_context.sent;this.setState({daibalance:daibalance});this.setState({ProposalBalance:contractbalance});//daicontract.methods.approve('0xFaCA1b61C03e4355Ce6BB0CeB7efB9E1709E9369', 9999999 ).send({from: accounts[0]})\ncase 23:case\"end\":return _context.stop();}}},_callee,this);}));function loadBlockchainData(){return _loadBlockchainData.apply(this,arguments);}return loadBlockchainData;}()},{key:\"SubmitProposal\",value:function(){var _SubmitProposal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var web3,accounts,escrowcontract,balance;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:web3=new Web3(Web3.givenProvider||\"http://localhost:3000\");_context2.next=3;return web3.eth.getAccounts();case 3:accounts=_context2.sent;escrowcontract=new web3.eth.Contract(ESCROWCONTRACT_ABI,ESCROWCONTRACT_ADDRESS);_context2.next=7;return web3.eth.getBalance(accounts[0]);case 7:balance=_context2.sent;escrowcontract.methods.MakeProposal(this.state.ProposalAmount,this.state.ProposalAddress,this.state.ProposalDescription).send({from:accounts[0]});case 9:case\"end\":return _context2.stop();}}},_callee2,this);}));function SubmitProposal(){return _SubmitProposal.apply(this,arguments);}return SubmitProposal;}()},{key:\"SubmitRequest\",value:function(){var _SubmitRequest=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var web3,accounts,escrowcontract,balance;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:web3=new Web3(Web3.givenProvider||\"http://localhost:3000\");_context3.next=3;return web3.eth.getAccounts();case 3:accounts=_context3.sent;escrowcontract=new web3.eth.Contract(ESCROWCONTRACT_ABI,ESCROWCONTRACT_ADDRESS);_context3.next=7;return web3.eth.getBalance(accounts[0]);case 7:balance=_context3.sent;escrowcontract.methods.RequestAmounts(this.state.ProposalRequest,this.state.account,this.state.RoundDescription).send({from:accounts[0]});case 9:case\"end\":return _context3.stop();}}},_callee3,this);}));function SubmitRequest(){return _SubmitRequest.apply(this,arguments);}return SubmitRequest;}()},{key:\"FundProposal\",value:function(){var _FundProposal=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var web3,accounts,escrowcontract,daicontract,FunderAmount;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:web3=new Web3(Web3.givenProvider||\"http://localhost:3000\");_context4.next=3;return web3.eth.getAccounts();case 3:accounts=_context4.sent;escrowcontract=new web3.eth.Contract(ESCROWCONTRACT_ABI,ESCROWCONTRACT_ADDRESS);daicontract=new web3.eth.Contract(ERC20_ABI,DAI_ADDRESS);FunderAmount=this.state.FunderAmount.concat('000000000000000000');daicontract.methods.approve(ESCROWCONTRACT_ADDRESS,FunderAmount).send({from:accounts[0]});escrowcontract.methods.FundProposal(this.state.FunderAmount,this.state.ProposalAddress,this.state.FunderIdentifier).send({from:accounts[0]});case 9:case\"end\":return _context4.stop();}}},_callee4,this);}));function FundProposal(){return _FundProposal.apply(this,arguments);}return FundProposal;}()},{key:\"Vote\",value:function(){var _Vote=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var web3,accounts,escrowcontract;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:web3=new Web3(Web3.givenProvider||\"http://localhost:3000\");_context5.next=3;return web3.eth.getAccounts();case 3:accounts=_context5.sent;escrowcontract=new web3.eth.Contract(ESCROWCONTRACT_ABI,ESCROWCONTRACT_ADDRESS);escrowcontract.methods.vote(this.state.FunderVote,this.state.ProposalAddress,this.state.FunderIdentifier).send({from:accounts[0]});case 6:case\"end\":return _context5.stop();}}},_callee5,this);}));function Vote(){return _Vote.apply(this,arguments);}return Vote;}()},{key:\"ReleaseFunds\",value:function(){var _ReleaseFunds=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var web3,accounts,escrowcontract;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:web3=new Web3(Web3.givenProvider||\"http://localhost:3000\");_context6.next=3;return web3.eth.getAccounts();case 3:accounts=_context6.sent;escrowcontract=new web3.eth.Contract(ESCROWCONTRACT_ABI,ESCROWCONTRACT_ADDRESS);escrowcontract.methods.releasefunds(this.state.ProposalAddress).send({from:accounts[0]});case 6:case\"end\":return _context6.stop();}}},_callee6,this);}));function ReleaseFunds(){return _ReleaseFunds.apply(this,arguments);}return ReleaseFunds;}()},{key:\"ReturnFunds\",value:function(){var _ReturnFunds=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var web3,accounts,escrowcontract;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:web3=new Web3(Web3.givenProvider||\"http://localhost:3000\");_context7.next=3;return web3.eth.getAccounts();case 3:accounts=_context7.sent;escrowcontract=new web3.eth.Contract(ESCROWCONTRACT_ABI,ESCROWCONTRACT_ADDRESS);escrowcontract.methods.ReturnFunds(this.state.FunderIdentifier,this.state.ProposalAddress).send({from:accounts[0]});case 6:case\"end\":return _context7.stop();}}},_callee7,this);}));function ReturnFunds(){return _ReturnFunds.apply(this,arguments);}return ReturnFunds;}()},{key:\"GetProposalDetails\",value:function(){var _GetProposalDetails=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(){var web3,accounts,escrowcontract,ProposalDetails,RoundDescription,ProposalDescription;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:web3=new Web3(Web3.givenProvider||\"http://localhost:3000\");_context8.next=3;return web3.eth.getAccounts();case 3:accounts=_context8.sent;escrowcontract=new web3.eth.Contract(ESCROWCONTRACT_ABI,ESCROWCONTRACT_ADDRESS);_context8.next=7;return escrowcontract.methods.GetProposalDetails(this.state.ProposalAddress).call();case 7:ProposalDetails=_context8.sent;_context8.next=10;return escrowcontract.methods.GetRoundDescription(this.state.ProposalAddress).call();case 10:RoundDescription=_context8.sent;_context8.next=13;return escrowcontract.methods.GetDescription(this.state.ProposalAddress).call();case 13:ProposalDescription=_context8.sent;this.setState({RealRoundDescription:RoundDescription});this.setState({RealProposalDescription:ProposalDescription});this.setState({RealProposalAmount:ProposalDetails[0]});this.setState({ProposalAmountFunded:ProposalDetails[1]});this.setState({ProposalRound:ProposalDetails[2]});this.setState({ProposalVote:ProposalDetails[3]});this.setState({ProposalFundsSpent:ProposalDetails[4]});case 21:case\"end\":return _context8.stop();}}},_callee8,this);}));function GetProposalDetails(){return _GetProposalDetails.apply(this,arguments);}return GetProposalDetails;}()},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Details \"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"my acc: \",this.state.account]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"my bal: \",this.state.balance]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" my dai bal: \",this.state.daibalance]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Proposal Details\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Proposal Description \",this.state.RealProposalDescription]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Round Description \",this.state.RealRoundDescription]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Proposal Address: \",this.state.ProposalAddress]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Proposal Amount Request: \",this.state.RealProposalAmount]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Proposal Amount Funded: \",this.state.ProposalAmountFunded]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Proposal Round Amount: \",this.state.ProposalRound]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Proposal Vote: \",this.state.ProposalVote]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" Proposal Funds Spent: \",this.state.ProposalFundsSpent]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Get Proposal Details\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();_this2.setState({ProposalAddress:event.target[0].value});_this2.GetProposalDetails();},children:[/*#__PURE__*/_jsx(\"input\",{id:\"newProposalAddress\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Make Proposal\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();_this2.setState({ProposalAddress:event.target[0].value});_this2.setState({ProposalAmount:event.target[1].value});_this2.setState({ProposalDescription:event.target[2].value});_this2.SubmitProposal();},children:[/*#__PURE__*/_jsx(\"input\",{id:\"newProposalAddress\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"newProposalAmount\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Amount\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"newProposalDescription\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Description\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Request Amounts\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();_this2.setState({ProposalRequest:event.target[0].value});_this2.setState({RoundDescription:event.target[1].value});_this2.SubmitRequest();},children:[/*#__PURE__*/_jsx(\"input\",{id:\"newProposalRequest\",type:\"text\",className:\"form-control\",placeholder:\"Round Request\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"newProposalRequest\",type:\"text\",className:\"form-control\",placeholder:\"Round Description\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Release Funds\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();_this2.setState({ProposalAddress:event.target[0].value});_this2.ReleaseFunds();},children:[/*#__PURE__*/_jsx(\"input\",{id:\"newProposalRequest\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Funder Interface\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Fund Proposal\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();_this2.setState({ProposalAddress:event.target[0].value});_this2.setState({FunderAmount:event.target[1].value});_this2.setState({FunderIdentifier:event.target[2].value});_this2.FundProposal();},children:[/*#__PURE__*/_jsx(\"input\",{id:\"FunderProposalAddress\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"FunderAmount\",type:\"text\",className:\"form-control\",placeholder:\"Amount\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"FunderIdentifier\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Identifier\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Vote on Proposal\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();_this2.setState({ProposalAddress:event.target[0].value});_this2.setState({FunderVote:event.target[1].value});_this2.setState({FunderIdentifier:event.target[2].value});_this2.Vote();},children:[/*#__PURE__*/_jsx(\"input\",{id:\"FunderProposalAddress\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"FunderVote\",type:\"text\",className:\"form-control\",placeholder:\"Vote (1 for positive 0 for negative)\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"FunderIdentifier\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Identifier\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h3\",{children:\"Return Funds\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();_this2.setState({FunderIdentifier:event.target[0].value});_this2.setState({ProposalAddress:event.target[1].value});_this2.ReturnFunds();},children:[/*#__PURE__*/_jsx(\"input\",{id:\"newProposalRequest\",type:\"text\",className:\"form-control\",placeholder:\"Funder Identifier\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"ProposalAddress\",type:\"text\",className:\"form-control\",placeholder:\"Proposal Address\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Testing Hash\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(event){event.preventDefault();var string=Web3.utils.sha3(event.target[0].value);_this2.setState({HashTest:string});var string1=Web3.utils.sha3(event.target[1].value);if(string1==string){_this2.setState({HashStatus:'statements match'});}else{_this2.setState({HashStatus:'statements do not match'});}},children:[/*#__PURE__*/_jsx(\"input\",{id:\"Hash Test\",type:\"text\",className:\"form-control\",placeholder:\"Hash\",required:true}),/*#__PURE__*/_jsx(\"input\",{id:\"Hash Tes\",type:\"text\",className:\"form-control\",placeholder:\"Input\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" HashTest: \",this.state.HashTest,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\" HashStatus: \",this.state.HashStatus,\" \"]})]});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/jack/CodeProjects/Escrow-Web/src/App.js"],"names":["React","Component","Web3","DAI_ADDRESS","ERC20_ABI","ESCROWCONTRACT_ABI","ESCROWCONTRACT_ADDRESS","App","props","state","account","balance","daibalance","ProposalAddress","ProposalAmount","ProposalRequest","FunderAmount","FunderIdentifier","ProposalBalance","FunderVote","ProposalDescription","RoundDescription","HashTest","HashStatus","RealProposalAmount","ProposalAmountFunded","ProposalRound","ProposalVote","ProposalFundsSpent","RealProposalDescription","RealRoundDescription","jeff","loadBlockchainData","web3","givenProvider","eth","net","getNetworkType","network","console","log","getAccounts","accounts","setState","getBalance","utils","fromWei","daicontract","Contract","methods","balanceOf","call","contractbalance","escrowcontract","MakeProposal","send","from","RequestAmounts","concat","approve","FundProposal","vote","releasefunds","ReturnFunds","GetProposalDetails","ProposalDetails","GetRoundDescription","GetDescription","event","preventDefault","target","value","SubmitProposal","SubmitRequest","ReleaseFunds","Vote","string","sha3","string1"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Web3 from 'web3'\nimport './App.css'; \nimport {DAI_ADDRESS, ERC20_ABI, ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS} from './config'\nclass App extends Component{\n  componentWillMount(){\n    this.loadBlockchainData()\n  }\n\n  \n\n\n  async loadBlockchainData(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const network = await web3.eth.net.getNetworkType()\n    console.log(\"network\", network)\n    const accounts = await web3.eth.getAccounts()\n    this.setState({account: accounts[0]})\n    var balance = await web3.eth.getBalance(accounts[0])\n    balance = web3.utils.fromWei(balance, 'ether')\n    this.setState({balance: balance})\n    const daicontract = new web3.eth.Contract(ERC20_ABI, DAI_ADDRESS)\n    \n    var daibalance= await daicontract.methods.balanceOf(accounts[0]).call()\n    var contractbalance = await daicontract.methods.balanceOf(ESCROWCONTRACT_ADDRESS).call()\n    this.setState({daibalance: daibalance})\n\n    this.setState({ProposalBalance: contractbalance})\n    \n    //daicontract.methods.approve('0xFaCA1b61C03e4355Ce6BB0CeB7efB9E1709E9369', 9999999 ).send({from: accounts[0]})\n  }\n\n\n\n  constructor(props){\n    super(props)\n    this.state = {account: ''}\n    this.state = {balance: ''}\n    this.state ={daibalance: ''}\n    this.state = {ProposalAddress: ''}\n    this.state = {ProposalAmount: ''}\n    this.state = {ProposalRequest: ''}\n    this.state = {FunderAmount: ''}\n    this.state = {FunderIdentifier: ''}\n    this.state = {ProposalBalance: ''}\n    this.state = {FunderVote: ''}\n    this.state = {ProposalDescription: ''}\n    this.state = {RoundDescription: ''}\n    this.state = {HashTest: ''}\n    this.state = {HashStatus: ''}\n    this.state = {RealProposalAmount: ''}\n    this.state = {ProposalAmountFunded: ''}\n    this.state = {ProposalRound: ''}\n    this.state = {ProposalVote: ''}\n    this.state = {ProposalFundsSpent: ''}\n    this.state = {RealProposalDescription: ''}\n    this.state = {RealRoundDescription: ''}\n    this.state= {jeff: ''}\n  }\n\n  async SubmitProposal(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const accounts = await web3.eth.getAccounts()\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS)\n    var balance = await web3.eth.getBalance(accounts[0])\n    \n    escrowcontract.methods.MakeProposal(this.state.ProposalAmount, this.state.ProposalAddress, this.state.ProposalDescription).send({from: accounts[0]})\n  }\n\n  async SubmitRequest(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const accounts = await web3.eth.getAccounts()\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS)\n    var balance = await web3.eth.getBalance(accounts[0])\n    \n    escrowcontract.methods.RequestAmounts(this.state.ProposalRequest, this.state.account, this.state.RoundDescription).send({from: accounts[0]})\n  }\n\n  async FundProposal(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const accounts = await web3.eth.getAccounts()\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS)\n    const daicontract = new web3.eth.Contract(ERC20_ABI, DAI_ADDRESS)\n    var FunderAmount = this.state.FunderAmount.concat('000000000000000000')\n    daicontract.methods.approve(ESCROWCONTRACT_ADDRESS, FunderAmount ).send({from: accounts[0]})\n    escrowcontract.methods.FundProposal(this.state.FunderAmount, this.state.ProposalAddress, this.state.FunderIdentifier).send({from: accounts[0]})\n\n  }\n\n  async Vote(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const accounts = await web3.eth.getAccounts()\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS)\n    escrowcontract.methods.vote(this.state.FunderVote, this.state.ProposalAddress, this.state.FunderIdentifier).send({from: accounts[0]})\n\n  }\n\n  async ReleaseFunds(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const accounts = await web3.eth.getAccounts()\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS)\n    escrowcontract.methods.releasefunds(this.state.ProposalAddress).send({from: accounts[0]})\n  }\n  async ReturnFunds(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const accounts = await web3.eth.getAccounts()\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS)\n    escrowcontract.methods.ReturnFunds(this.state.FunderIdentifier, this.state.ProposalAddress).send({from: accounts[0]})\n  }\n  async GetProposalDetails(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const accounts = await web3.eth.getAccounts()\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS)\n    \n    const ProposalDetails = await escrowcontract.methods.GetProposalDetails(this.state.ProposalAddress).call()\n    \n    var RoundDescription = await escrowcontract.methods.GetRoundDescription(this.state.ProposalAddress).call()\n    var ProposalDescription = await escrowcontract.methods.GetDescription(this.state.ProposalAddress).call()\n\n    this.setState({RealRoundDescription: RoundDescription})\n    this.setState({RealProposalDescription: ProposalDescription})\n    this.setState({RealProposalAmount: ProposalDetails[0]})\n    this.setState({ProposalAmountFunded: ProposalDetails[1]})\n    this.setState({ProposalRound: ProposalDetails[2]})\n    this.setState({ProposalVote: ProposalDetails[3]})\n    this.setState({ProposalFundsSpent: ProposalDetails[4]})\n\n  }\n\n\n  render(){\n    return(\n    <div className=\"container\">\n      <h1>My Details </h1>\n      <p>my acc: {this.state.account}</p>\n      <p>my bal: {this.state.balance}</p>\n      <p> my dai bal: {this.state.daibalance}</p>\n      <h1>Proposal Details</h1>\n      <p> Proposal Description {this.state.RealProposalDescription}</p> \n      <p> Round Description {this.state.RealRoundDescription}</p>\n      <p> Proposal Address: {this.state.ProposalAddress}</p>\n      <p> Proposal Amount Request: {this.state.RealProposalAmount}</p>\n      <p> Proposal Amount Funded: {this.state.ProposalAmountFunded}</p>\n      <p> Proposal Round Amount: {this.state.ProposalRound}</p>\n      <p> Proposal Vote: {this.state.ProposalVote}</p>\n      <p> Proposal Funds Spent: {this.state.ProposalFundsSpent}</p>\n      <br></br>\n      \n      <h3>Get Proposal Details</h3>\n      <br></br>\n      <form onSubmit={(event) => {\n        event.preventDefault()\n        this.setState({ProposalAddress: event.target[0].value})\n        this.GetProposalDetails()\n\n      }}>\n         <input\n            id=\"newProposalAddress\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Address\"\n            required />\n<input type=\"submit\"  />\n</form>\n<br></br>\n      <h3>Make Proposal</h3>\n      <br></br>\n      \n      \n\n        <form onSubmit={(event) => {\n          event.preventDefault()\n         this.setState({ProposalAddress: event.target[0].value})\n         this.setState({ProposalAmount: event.target[1].value})\n         this.setState({ProposalDescription: event.target[2].value})\n         this.SubmitProposal()\n        }}>\n          <input\n            id=\"newProposalAddress\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Address\"\n            required />\n           \n           <input\n            id=\"newProposalAmount\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Amount\"\n            required />\n\n            <input\n             id=\"newProposalDescription\"\n             type=\"text\"\n             className=\"form-control\"\n             placeholder=\"Proposal Description\"\n             required />\n          <input type=\"submit\"  />\n        </form>\n        <br></br>\n        <h3>Request Amounts</h3>\n        <br></br>\n\n        <form onSubmit={(event) => {\n          event.preventDefault()\n          this.setState({ProposalRequest: event.target[0].value})\n          this.setState({RoundDescription: event.target[1].value})\n          this.SubmitRequest()\n        }}>\n        <input\n            id=\"newProposalRequest\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Round Request\"\n            required />\n            <input\n            id=\"newProposalRequest\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Round Description\"\n            required />\n            <input type=\"submit\"  />\n        </form>\n       <br></br>\n       <h3>Release Funds</h3>\n       <br></br>\n        <form onSubmit={(event) => {\n          event.preventDefault()\n          this.setState({ProposalAddress: event.target[0].value})\n          this.ReleaseFunds()\n        }}>\n        <input\n            id=\"newProposalRequest\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Address\"\n            required />\n            <input type=\"submit\"  />\n        </form>\n        <br></br>\n        <h1>Funder Interface</h1>\n        <br></br>\n        <h3>Fund Proposal</h3>\n        <br></br>\n        <form onSubmit={(event) => {\n          event.preventDefault()\n          this.setState({ProposalAddress: event.target[0].value})\n          this.setState({FunderAmount: event.target[1].value})\n          this.setState({FunderIdentifier: event.target[2].value})\n          this.FundProposal()\n        }}>\n        <input\n            id=\"FunderProposalAddress\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Address\"\n            required />\n            <input\n            id=\"FunderAmount\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Amount\"\n            required />\n            <input\n            id=\"FunderIdentifier\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Identifier\"\n            required />\n            <input type=\"submit\"  />\n\n            </form>\n            <br></br>\n            <h3>Vote on Proposal</h3>\n            <form onSubmit={(event) => {\n          event.preventDefault()\n          this.setState({ProposalAddress: event.target[0].value})\n          this.setState({FunderVote: event.target[1].value})\n          this.setState({FunderIdentifier: event.target[2].value})\n          this.Vote()\n        }}>\n        <input\n            id=\"FunderProposalAddress\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Address\"\n            required />\n            <input\n            id=\"FunderVote\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Vote (1 for positive 0 for negative)\"\n            required />\n            <input\n            id=\"FunderIdentifier\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Identifier\"\n            required />\n            <input type=\"submit\"  />\n\n            </form>\n            <br></br>\n            <h3>Return Funds</h3>\n            <br></br>\n            <form onSubmit={(event) => {\n          event.preventDefault()\n          this.setState({FunderIdentifier: event.target[0].value})\n          this.setState({ProposalAddress: event.target[1].value})\n          this.ReturnFunds()\n        }}>\n        <input\n            id=\"newProposalRequest\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Funder Identifier\"\n            required />\n        <input\n            id=\"ProposalAddress\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Address\"\n            required />\n            <input type=\"submit\"  />\n        </form>\n\n        <br></br>\n        <h1>Testing Hash</h1>\n        <br></br>\n        <form onSubmit={(event) => {\n          event.preventDefault()\n          \n          var string = Web3.utils.sha3(event.target[0].value)\n          \n          this.setState({HashTest: string})\n\n          var string1 = Web3.utils.sha3(event.target[1].value)\n\n          if(string1==string){\n            this.setState({HashStatus: 'statements match'})\n          } else {\n            this.setState({HashStatus: 'statements do not match'})\n          }\n\n        \n        }}>\n        <input\n            id=\"Hash Test\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Hash\"\n            required />\n\n        <input\n            id=\"Hash Tes\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Input\"\n            required />\n\n\n<input type=\"submit\"  />\n        </form>\n        <p> HashTest: {this.state.HashTest} </p>\n        <p> HashStatus: {this.state.HashStatus} </p>\n\n    </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}