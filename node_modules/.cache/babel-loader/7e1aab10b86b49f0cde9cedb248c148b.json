{"ast":null,"code":"var _jsxFileName = \"/Users/jack/CodeProjects/eth-todo/src/App.js\";\nimport React, { Component } from 'react';\nimport Web3 from 'web3';\nimport './App.css';\nimport { DAI_ADDRESS, ERC20_ABI, ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS } from './config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass App extends Component {\n  componentWillMount() {\n    this.loadBlockchainData();\n  }\n\n  async loadBlockchainData() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\");\n    const network = await web3.eth.net.getNetworkType();\n    console.log(\"network\", network);\n    const accounts = await web3.eth.getAccounts();\n    this.setState({\n      account: accounts[0]\n    });\n    var balance = await web3.eth.getBalance(accounts[0]);\n    balance = web3.utils.fromWei(balance, 'ether');\n    this.setState({\n      balance: balance\n    });\n    const daicontract = new web3.eth.Contract(ERC20_ABI, DAI_ADDRESS);\n    var daibalance = await daicontract.methods.balanceOf(accounts[0]).call();\n    this.setState({\n      daibalance: daibalance\n    }); //daicontract.methods.approve('0xFaCA1b61C03e4355Ce6BB0CeB7efB9E1709E9369', 9999999 ).send({from: accounts[0]})\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: ''\n    };\n    this.state = {\n      balance: ''\n    };\n    this.state = {\n      daibalance: ''\n    };\n    this.state = {\n      ProposalAddress: ''\n    };\n    this.state = {\n      ProposalAmount: ''\n    };\n    this.state = {\n      ProposalRequest: ''\n    };\n    this.state = {\n      jeff: ''\n    };\n  }\n\n  async SubmitProposal() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\");\n    const accounts = await web3.eth.getAccounts();\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS);\n    var balance = await web3.eth.getBalance(accounts[0]);\n    escrowcontract.methods.MakeProposal(this.state.ProposalAmount, this.state.ProposalAddress).send({\n      from: accounts[0]\n    });\n  }\n\n  async SubmitRequest() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\");\n    const accounts = await web3.eth.getAccounts();\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS);\n    var balance = await web3.eth.getBalance(accounts[0]);\n    escrowcontract.methods.RequestAmounts(this.state.ProposalAmount, accounts[0]).send({\n      from: accounts[0]\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"My Details \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"my acc: \", this.state.account]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"my bal: \", this.state.balance]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" my dai bal: \", this.state.daibalance]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Proposal Details \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" prop add: \", this.state.ProposalAddress]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" prop amount: \", this.state.ProposalAmount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => {\n          event.preventDefault();\n          this.setState({\n            ProposalAddress: event.target[0].value\n          });\n          this.setState({\n            ProposalAmount: event.target[1].value\n          });\n          this.SubmitProposal();\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"newProposalAddress\",\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Proposal Address\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"newProposalAmount\",\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Proposal Amount\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 12\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: event => {\n          event.preventDefault();\n          this.setState({\n            ProposalRequest: event.target[0].value\n          });\n          this.SubmitRequest();\n        },\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"newProposalRequest\",\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Proposal Request\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/jack/CodeProjects/eth-todo/src/App.js"],"names":["React","Component","Web3","DAI_ADDRESS","ERC20_ABI","ESCROWCONTRACT_ABI","ESCROWCONTRACT_ADDRESS","App","componentWillMount","loadBlockchainData","web3","givenProvider","network","eth","net","getNetworkType","console","log","accounts","getAccounts","setState","account","balance","getBalance","utils","fromWei","daicontract","Contract","daibalance","methods","balanceOf","call","constructor","props","state","ProposalAddress","ProposalAmount","ProposalRequest","jeff","SubmitProposal","escrowcontract","MakeProposal","send","from","SubmitRequest","RequestAmounts","render","event","preventDefault","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Web3 from 'web3'\nimport './App.css'; \nimport {DAI_ADDRESS, ERC20_ABI, ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS} from './config'\nclass App extends Component{\n  componentWillMount(){\n    this.loadBlockchainData()\n  }\n\n  \n\n\n  async loadBlockchainData(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const network = await web3.eth.net.getNetworkType()\n    console.log(\"network\", network)\n    const accounts = await web3.eth.getAccounts()\n    this.setState({account: accounts[0]})\n    var balance = await web3.eth.getBalance(accounts[0])\n    balance = web3.utils.fromWei(balance, 'ether')\n    this.setState({balance: balance})\n    const daicontract = new web3.eth.Contract(ERC20_ABI, DAI_ADDRESS)\n    \n    var daibalance= await daicontract.methods.balanceOf(accounts[0]).call()\n    this.setState({daibalance: daibalance})\n    //daicontract.methods.approve('0xFaCA1b61C03e4355Ce6BB0CeB7efB9E1709E9369', 9999999 ).send({from: accounts[0]})\n  }\n\n\n\n  constructor(props){\n    super(props)\n    this.state = {account: ''}\n    this.state = {balance: ''}\n    this.state ={daibalance: ''}\n    this.state = {ProposalAddress: ''}\n    this.state = {ProposalAmount: ''}\n    this.state = {ProposalRequest: ''}\n    this.state= {jeff: ''}\n  }\n\n  async SubmitProposal(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const accounts = await web3.eth.getAccounts()\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS)\n    var balance = await web3.eth.getBalance(accounts[0])\n    \n    escrowcontract.methods.MakeProposal(this.state.ProposalAmount, this.state.ProposalAddress).send({from: accounts[0]})\n  }\n\n  async SubmitRequest(){\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:3000\")\n    const accounts = await web3.eth.getAccounts()\n    const escrowcontract = new web3.eth.Contract(ESCROWCONTRACT_ABI, ESCROWCONTRACT_ADDRESS)\n    var balance = await web3.eth.getBalance(accounts[0])\n    \n    escrowcontract.methods.RequestAmounts(this.state.ProposalAmount, accounts[0]).send({from: accounts[0]})\n  }\n\n  render(){\n    return(\n    <div className=\"container\">\n      <h1>My Details </h1>\n      <p>my acc: {this.state.account}</p>\n      <p>my bal: {this.state.balance}</p>\n      <p> my dai bal: {this.state.daibalance}</p>\n      <h1>Proposal Details </h1>\n      <p> prop add: {this.state.ProposalAddress}</p>\n      <p> prop amount: {this.state.ProposalAmount}</p>\n      \n      \n      \n\n        <form onSubmit={(event) => {\n          event.preventDefault()\n         this.setState({ProposalAddress: event.target[0].value})\n         this.setState({ProposalAmount: event.target[1].value})\n         this.SubmitProposal()\n        }}>\n          <input\n            id=\"newProposalAddress\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Address\"\n            required />\n           \n           <input\n            id=\"newProposalAmount\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Amount\"\n            required />\n          <input type=\"submit\"  />\n        </form>\n\n        <form onSubmit={(event) => {\n          event.preventDefault()\n          this.setState({ProposalRequest: event.target[0].value})\n          this.SubmitRequest()\n        }}>\n        <input\n            id=\"newProposalRequest\"\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"Proposal Request\"\n            required />\n        </form>\n       \n        \n    </div>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}